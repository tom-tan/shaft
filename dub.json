{
	"authors": [
		"Tomoya Tanjo"
	],
	"buildTypes": {
		"release-static": {
			"buildOptions": [
				"releaseMode",
				"inline",
				"optimize"
			],
			"dflags-posix-ldc": [
				"-static"
			],
			"lflags-posix": [
				"--eh-frame-hdr"
			],
			"preBuildCommands-posix": [
				"echo ==== preBuild for release-static ====",
				"wget -O resources/license-musl.txt https://git.musl-libc.org/cgit/musl/plain/COPYRIGHT"
			]
		}
	},
	"preBuildCommands": [
		"echo ==== preBuild for release ====",
		"dub run -y dpp -- --ignore-system-paths --include-path=$NJS_BASE/include --preprocess-only source/shaft/evaluator/engine/embedded.dpp --source-output-path=/tmp",
		"grep -v ' \\+#' /tmp/embedded.d > source/shaft/evaluator/engine/embedded.d",
		"rm /tmp/embedded.d",
		"./gen-version.sh > resources/version",
		"cp LICENSE resources/license-shaft.txt",
		"cp $NJS_BASE/doc/LICENSE resources/license-njs.txt",
		"touch resources/license-musl.txt"
	],
	"extraDependencyFiles": [
		"source/shaft/evaluator/engine/embedded.dpp",
		"source/shaft/evaluator/engine/embedded.d"
	],
	"lflags": ["-L$NJS_BASE/lib", "-lnjs", "-lpcre2-8"],
	"stringImportPaths": [
		"resources"
	],
	"copyright": "Copyright Â© 2022, Tomoya Tanjo",
	"dependencies": {
		"schema-salad-d": "~>0.7.20"
	},
	"description": "A workflow engine for CommandLineTool in local machine",
	"homepage": "https://github.com/tom-tan/shaft",
	"license": "Apache-2.0",
	"name": "shaft",
	"targetPath": "bin",
	"targetType": "executable"
}
